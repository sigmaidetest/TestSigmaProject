{"EDITOR_STATE":{"allProjectFiles":{"164416fc-f3ab-4f7c-8d62-85bba9e441ba":{"id":"164416fc-f3ab-4f7c-8d62-85bba9e441ba","parent":null,"name":"TestSigmaProject","type":"DIRECTORY","isDirectory":true,"children":["02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6"],"isRemovable":false,"filePath":"TestSigmaProject"},"02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6":{"id":"02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6","parent":"164416fc-f3ab-4f7c-8d62-85bba9e441ba","name":"lambda.js","type":"LAMBDA_FILE","isDirectory":false,"children":[],"isRemovable":true,"filePath":"TestSigmaProject/lambda.js","code":"let AWS = require('aws-sdk');\nconst ddb = new AWS.DynamoDB.DocumentClient();\n\nexports.handler = function (event, context, callback) {\n\n    let report = JSON.stringify(event.body);\n\n    ddb.put({\n        TableName: 'TestSigmaTable',\n        Item: { 'id': report.id, 'name': report.name }\n    }).promise().then(function (data) {\n        let response = {\n            \"isBase64Encoded\": true,\n            \"statusCode\": 200,\n            \"headers\": {\n                \"Content-Type\": \"application/json\"\n            },\n            \"body\": \"Report: \" + report + \" successfully added.\"\n        };\n        callback(null, response);\n    }).catch(function (err) {\n        let response = {\n            \"isBase64Encoded\": false,\n            \"statusCode\": err.statusCode,\n            \"headers\": {\n                \"Content-Type\": \"application/json\"\n            },\n            \"body\": JSON.stringify({\n                \"Code\": err.code,\n                \"Message\": err.message\n            })\n        };\n        callback(null, response);\n    });\n}","triggers":[{"resourceName":"apigusEast1TestSigmaAPItestpost","config":{}}],"config":{"memory":128,"timeout":60,"runtime":"nodejs8.10"}}},"deletedFiles":[],"rootNode":"164416fc-f3ab-4f7c-8d62-85bba9e441ba","openFiles":["02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6"],"currentFileId":"02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6","resources":{"apigusEast1TestSigmaAPItestpost":{"name":"apigusEast1TestSigmaAPItestpost","type":"API_GATEWAY","config":{"selectedRegion":"us-east-1","apiMode":0,"apiName":"TestSigmaAPI","endpointType":"EDGE","resourceMode":0,"resourceName":"test","resourcePath":"/test","restMethod":"POST","proxyIntegration":true,"enableCORS":true,"stageMode":0,"stageName":"Prod"},"globallyEditable":true},"ddbTestSigmaTable":{"name":"ddbTestSigmaTable","type":"DynamoDB","config":{"mode":0,"operation":"put","table":{"arn":"","name":"TestSigmaTable","partitionKey":"id","partitionKeyType":"S","hasSortKey":false,"sortKey":"","sortKeyType":"S","mode":0},"parameters":{"Key":{},"Item":{"id":"@{report.id}","name":"@{report.name}"},"ExpressionAttributeValues":{}},"validator":{"validatableFields":{},"validity":true},"valid":true},"globallyEditable":false}},"envVariables":[{"lambdaId":"all","varKey":"SIGMA_AWS_ACC_ID","varValue":null,"shouldPersist":false,"displayOnly":false,"editable":false}],"packageJSON":{"dependencies":{"aws-sdk":{"name":"aws-sdk","version":"2.176.0","notRemovable":true}}},"lambdaId":"02f7bd64-1ec7-4f11-8c55-50e0fe1fe3d6"},"PROJECT_META":{"projectName":"TestSigmaProject","projectDescription":"","projectVersion":"1.0.0","projectRegion":"us-east-1"},"VCS_STATE":{"provider":"GitHub","repo":{"name":"TestSigmaProject","url":"https://github.com/sigmaidetest/TestSigmaProject"}}}